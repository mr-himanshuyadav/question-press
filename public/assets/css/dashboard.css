/* =================================================================
   Question Press Dashboard Styles - Sidebar Layout
   ================================================================= */

:root {
    --qp-dashboard-primary: #2271b1;
    --qp-dashboard-primary-hover: #1d5f96;
    --qp-dashboard-bg: #f0f2f5;         /* Light grey page background */
    --qp-dashboard-sidebar-bg: #ffffff; /* White sidebar */
    --qp-dashboard-content-bg: transparent; /* Content area background (transparent to show page bg) */
    --qp-dashboard-card-bg: #ffffff;    /* White cards */
    --qp-dashboard-border: #dcdcde;
    --qp-dashboard-text-dark: #1d2327;
    --qp-dashboard-text-light: #50575e;
    --qp-dashboard-nav-text: #3c434a;
    --qp-dashboard-nav-hover-bg: #f0f0f1;
    --qp-dashboard-nav-active-bg: #e6f1f9; /* Light blue for active nav */
    --qp-dashboard-nav-active-text: var(--qp-dashboard-primary);
    --qp-dashboard-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
    --qp-dashboard-radius: 6px;
    --qp-dashboard-sidebar-width: 240px;
    --qp-dashboard-sidebar-width-collapsed: 70px; /* For potential future collapsed state */
}

/* Remove default body margin if theme adds it */
body {
    margin: 0;
}

#qp-practice-app-wrapper {
    padding: 0; /* Override padding from practice.css for dashboard */
    max-width: 100%;
    background-color: var(--qp-dashboard-bg); /* Apply background to the wrapper */
}

.qp-dashboard-layout {
    display: flex;
    min-height: calc(100vh - 32px); /* Full height minus WP admin bar */
    background-color: var(--qp-dashboard-bg);
}

/* --- Sidebar --- */
.qp-sidebar {
    width: var(--qp-dashboard-sidebar-width);
    background-color: var(--qp-dashboard-sidebar-bg);
    border-right: 1px solid var(--qp-dashboard-border);
    padding: 1.5rem 0;
    transition: width 0.3s ease;
    flex-shrink: 0; /* Prevent sidebar from shrinking */
    position: fixed; /* Fixed position */
    top: 32px; /* Account for WP admin bar */
    bottom: 0;
    left: 0;
    overflow-y: auto; /* Allow scrolling if content overflows */
}

/* --- Main Content Area --- */
.qp-main-content {
    flex-grow: 1;
    padding: 2rem;
    background-color: var(--qp-dashboard-content-bg);
    margin-left: var(--qp-dashboard-sidebar-width); /* Offset by sidebar width */
    transition: margin-left 0.3s ease;
}

/* --- Card Component --- */
.qp-card {
    background-color: var(--qp-dashboard-card-bg);
    border: 1px solid var(--qp-dashboard-border);
    border-radius: var(--qp-dashboard-radius);
    box-shadow: var(--qp-dashboard-shadow);
    margin-bottom: 1.5rem;
    overflow: hidden; /* Ensures content respects border-radius */
}

.qp-card-header {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--qp-dashboard-border);
    background-color: #f6f7f7; /* Slightly off-white header */
}

.qp-card-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
    color: var(--qp-dashboard-text-dark);
}

.qp-card-content {
    padding: 1.5rem;
}

.qp-card-content p:first-child {
    margin-top: 0;
}
 .qp-card-content p:last-child {
    margin-bottom: 0;
}

/* --- Basic Sidebar Navigation (Placeholder) --- */
.qp-sidebar-nav {
    list-style: none;
    padding: 0;
    margin: 0;
}

.qp-sidebar-nav li a {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 20px;
    text-decoration: none;
    color: var(--qp-dashboard-nav-text);
    font-weight: 500;
    border-radius: 4px;
    margin: 5px 15px;
    transition: background-color 0.2s ease, color 0.2s ease;
}
 .qp-sidebar-nav li a:hover {
    background-color: var(--qp-dashboard-nav-hover-bg);
}
.qp-sidebar-nav li a.active {
    background-color: var(--qp-dashboard-nav-active-bg);
    color: var(--qp-dashboard-nav-active-text);
    font-weight: 600;
}
.qp-sidebar-nav li a .dashicons {
    font-size: 20px;
    line-height: 1;
}

/* --- Responsive (Mobile Sidebar - Off-canvas or Collapsed - Placeholder for now) --- */
@media (max-width: 782px) {
    .qp-sidebar {
        /* Example: Make sidebar narrower on mobile, or hide it */
         width: var(--qp-dashboard-sidebar-width-collapsed); /* Use collapsed width */
         /* Add styles here later to hide text, show icons only, or implement off-canvas */
         padding: 1.5rem 0; /* Adjust padding if needed */
         /* Hide text, show only icons - simplistic example */
    }
     .qp-sidebar-nav li a span:not(.dashicons) {
         /* display: none; */ /* Uncomment later if using icon-only */
         position: absolute;
         left: var(--qp-dashboard-sidebar-width-collapsed);
         background: #333;
         color: white;
         padding: 5px 10px;
         border-radius: 4px;
         white-space: nowrap;
         opacity: 0;
         visibility: hidden;
         transition: opacity 0.2s ease;
         margin-left: 10px; /* Space from icon */
    }
     .qp-sidebar-nav li a:hover span:not(.dashicons) {
         /* opacity: 1; */ /* Show tooltip on hover */
         /* visibility: visible; */
    }
    .qp-main-content {
        margin-left: var(--qp-dashboard-sidebar-width-collapsed); /* Adjust content margin */
        padding: 1.5rem;
    }
}

/* --- Overview Section Specific Styles --- */

/* Quick Actions */
.qp-quick-actions {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive columns */
    gap: 1rem;
}

.qp-quick-actions .qp-button {
    width: 100%; /* Make buttons fill grid cells */
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px; /* Space between icon and text */
    padding: 15px 10px; /* More padding for better look */
    font-size: 15px;
}

 .qp-quick-actions .qp-button .dashicons {
     font-size: 18px;
     line-height: 1;
     margin-top: -2px; /* Fine-tune vertical alignment */
 }

/* Active/Paused Sessions List */
.qp-active-sessions-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.qp-active-session-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    background-color: #f9f9f9; /* Lighter than card header */
    border: 1px solid var(--qp-dashboard-border);
    border-left: 4px solid var(--qp-dashboard-primary); /* Default active border */
    border-radius: var(--qp-dashboard-radius);
}
 .qp-active-session-card.qp-session-paused-card {
     border-left-color: #ffb13d; /* Orange border for paused */
     background-color: #fff8ed; /* Light orange background */
 }

.qp-card-details { flex-grow: 1; }
.qp-card-subject { font-weight: 600; font-size: 15px; }
.qp-card-date { font-size: 13px; color: var(--qp-dashboard-text-light); }
.qp-card-actions { display: flex; gap: 0.5rem; flex-shrink: 0; }
 .qp-card-actions .qp-button { padding: 6px 14px; font-size: 13px; } /* Smaller buttons */

/* Recent History Table (Overview specific) */
.qp-recent-history-table { width: 100%; border-collapse: collapse; }
.qp-recent-history-table th, .qp-recent-history-table td {
    padding: 10px 8px;
    text-align: left;
    border-bottom: 1px solid var(--qp-dashboard-border);
    font-size: 14px;
}
.qp-recent-history-table th { font-weight: 600; color: var(--qp-dashboard-text-light); }
.qp-recent-history-table td[data-label="Result"] strong { color: var(--qp-dashboard-primary); }
.qp-recent-history-table tr:last-child td { border-bottom: none; }
.qp-recent-history-table .qp-actions-cell { text-align: right; }
 .qp-recent-history-table .qp-actions-cell .qp-button { padding: 4px 10px; font-size: 12px; }

/* View Full History Link */
.qp-view-full-history-link {
    font-size: 14px;
    font-weight: 500;
    color: var(--qp-dashboard-primary);
    text-decoration: none;
}
.qp-view-full-history-link:hover { text-decoration: underline; }

/* Hide table header and use data-labels on mobile for recent history */
@media (max-width: 782px) {
     .qp-recent-history-table thead { display: none; }
     .qp-recent-history-table tr { display: block; margin-bottom: 1rem; border: 1px solid var(--qp-dashboard-border); border-radius: var(--qp-dashboard-radius); padding: 0.5rem 1rem; }
     .qp-recent-history-table td { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #eee; text-align: right; }
     .qp-recent-history-table td:last-child { border-bottom: none; }
     .qp-recent-history-table td::before { content: attr(data-label); font-weight: 600; text-align: left; margin-right: 1rem; color: var(--qp-dashboard-text-dark); }
     .qp-recent-history-table .qp-actions-cell { justify-content: flex-end; } /* Align buttons right */
}

/* Overall Stats Grid - Consistent Spacing */
.qp-overall-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
}
 .stat-item {
     padding: 1rem;
     text-align: center;
     background-color: #f9f9f9;
     border-radius: var(--qp-dashboard-radius);
     border: 1px solid var(--qp-dashboard-border);
 }
 .stat-label { font-size: 11px; text-transform: uppercase; color: var(--qp-dashboard-text-light); margin-bottom: 4px; display: block; }
 .stat-value { font-size: 1.5em; font-weight: 700; color: var(--qp-dashboard-text-dark); display: block; line-height: 1.1;}
 .qp-overall-stats .stat-item:first-child .stat-value { color: #00897b; /* Teal */ } /* Accuracy color */


/* Section base styles */
.qp-dashboard-section {
    display: none; /* Hide sections by default */
}
.qp-dashboard-section.active {
    display: block; /* Show the active section */
    animation: qpFadeIn 0.4s ease-out; /* Add fade-in animation */
}

@keyframes qpFadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}